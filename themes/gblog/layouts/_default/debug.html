<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    {{ partial "head.html" . }}
    <title>调试页面</title>
    <style>
        .debug-section {
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 8px;
        }
        .debug-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #333;
        }
        .debug-item {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #fff;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .debug-list {
            list-style-type: none;
            padding: 0;
        }
        .debug-list li {
            margin-bottom: 8px;
        }
        .highlight {
            background-color: #4a6cf7;
            color: white;
            padding: 2px 5px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    {{ partial "header.html" . }}
    <main class="main">
        <div class="container">
            <h1>网站调试信息</h1>
            
            <div class="debug-section">
                <h2 class="debug-title">配置信息</h2>
                <div class="debug-item">
                    <p>站点标题: <span class="highlight">{{ .Site.Title }}</span></p>
                    <p>基础URL: <span class="highlight">{{ .Site.BaseURL }}</span></p>
                    <p>语言: <span class="highlight">{{ .Site.LanguageCode }}</span></p>
                    <p>主要内容区域 (mainSections): <span class="highlight">{{ delimit .Site.Params.mainSections ", " }}</span></p>
                </div>
            </div>
            
            <div class="debug-section">
                <h2 class="debug-title">文章统计</h2>
                <div class="debug-item">
                    {{ $regularPages := .Site.RegularPages }}
                    <p>所有常规页面数量: <span class="highlight">{{ len $regularPages }}</span></p>
                    
                    {{ $mainSectionPages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
                    <p>主要内容区域页面数量: <span class="highlight">{{ len $mainSectionPages }}</span></p>
                    
                    {{ range $sectionName, $sectionPages := .Site.RegularPages.GroupBySection }}
                    <p>{{ $sectionName }} 区域页面数量: <span class="highlight">{{ len $sectionPages }}</span></p>
                    {{ end }}
                </div>
            </div>
            
            <div class="debug-section">
                <h2 class="debug-title">主要内容区域文章列表</h2>
                <div class="debug-item">
                    <ul class="debug-list">
                        {{ $mainSectionPages := where .Site.RegularPages "Type" "in" .Site.Params.mainSections }}
                        {{ if eq (len $mainSectionPages) 0 }}
                        <li>没有找到主要内容区域的文章</li>
                        {{ else }}
                        {{ range $mainSectionPages }}
                        <li>
                            <strong>{{ .Title }}</strong> [{{ .Type }}] - 
                            <a href="{{ .Permalink }}" target="_blank">查看</a>
                            <br>
                            <small>路径: {{ .File.Path }}</small>
                            <br>
                            <small>分类: {{ if .Params.categories }}{{ delimit .Params.categories ", " }}{{ else }}无{{ end }}</small>
                            <br>
                            <small>标签: {{ if .Params.tags }}{{ delimit .Params.tags ", " }}{{ else }}无{{ end }}</small>
                        </li>
                        {{ end }}
                        {{ end }}
                    </ul>
                </div>
            </div>
            
            <div class="debug-section">
                <h2 class="debug-title">所有页面列表</h2>
                <div class="debug-item">
                    <ul class="debug-list">
                        {{ range .Site.RegularPages }}
                        <li>
                            <strong>{{ .Title }}</strong> [{{ .Type }}] - 
                            <a href="{{ .Permalink }}" target="_blank">查看</a>
                            <br>
                            <small>路径: {{ .File.Path }}</small>
                        </li>
                        {{ end }}
                    </ul>
                </div>
            </div>
        </div>
    </main>
    
    {{ partial "footer.html" . }}
</body>
</html> 